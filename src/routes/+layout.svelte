<script lang="ts">
	import BuscadorMaterias from "$lib/components/buscador-materias.svelte";
	import Link from "$lib/components/link.svelte";
	import ThemePicker from "$lib/components/theme-picker.svelte";
	import { ModeWatcher } from "mode-watcher";

	import "../app.css";
	import type { LayoutData } from "./$types";

	export let data: LayoutData;
</script>

<svelte:head>
	<meta
		name="description"
		content="Encontrá calificaciones y comentarios de los docentes de la facultad, subidos por otros estudiantes de la FIUBA."
	/>
</svelte:head>

<ModeWatcher />

<header class="sticky top-0 z-[40] border-b bg-background/75 backdrop-blur-lg">
	<div class="container flex h-16 items-center justify-start gap-2 p-3 sm:justify-between">
		<div class="mr-2 flex-1">
			<Link href="/" class="contents" aria-label="Página de inicio">
				<svg
					class="hidden h-4 xs:block"
					viewBox="0 0 197 32"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M28.4013 11.1484H21.8687C21.7493 10.3033 21.5057 9.55256 21.1378 8.89631C20.7699 8.23011 20.2976 7.66335 19.7209 7.19602C19.1442 6.72869 18.478 6.37074 17.7224 6.12216C16.9766 5.87358 16.1662 5.74929 15.2912 5.74929C13.7103 5.74929 12.3332 6.14205 11.1599 6.92756C9.98656 7.70312 9.07676 8.83665 8.43045 10.3281C7.78415 11.8097 7.46099 13.6094 7.46099 15.7273C7.46099 17.9048 7.78415 19.7344 8.43045 21.2159C9.0867 22.6974 10.0015 23.8161 11.1748 24.5717C12.3481 25.3274 13.7053 25.7053 15.2465 25.7053C16.1116 25.7053 16.912 25.5909 17.6478 25.3622C18.3935 25.1335 19.0547 24.8004 19.6314 24.3629C20.2082 23.9155 20.6854 23.3736 21.0633 22.7372C21.4511 22.1009 21.7195 21.375 21.8687 20.5597L28.4013 20.5895C28.2323 21.9915 27.8097 23.3438 27.1336 24.6463C26.4674 25.9389 25.5675 27.0973 24.434 28.1214C23.3104 29.1357 21.9681 29.9411 20.407 30.5376C18.8559 31.1243 17.1009 31.4176 15.1421 31.4176C12.4177 31.4176 9.98159 30.8011 7.83386 29.5682C5.69608 28.3352 4.00574 26.5504 2.76284 24.2138C1.52988 21.8771 0.913407 19.0483 0.913407 15.7273C0.913407 12.3963 1.53983 9.5625 2.79267 7.22585C4.04551 4.8892 5.74579 3.10937 7.89352 1.88636C10.0412 0.653408 12.4574 0.0369307 15.1421 0.0369307C16.912 0.0369307 18.5526 0.28551 20.064 0.78267C21.5853 1.27983 22.9326 2.00568 24.1059 2.96023C25.2792 3.90483 26.2337 5.06321 26.9695 6.43537C27.7153 7.80753 28.1925 9.37855 28.4013 11.1484ZM37.1667 17.7557V31H30.8131V0.454545H36.9878V12.1328H37.2562C37.7733 10.7805 38.6085 9.72159 39.7619 8.95596C40.9153 8.1804 42.3621 7.79261 44.1021 7.79261C45.693 7.79261 47.0801 8.14062 48.2633 8.83665C49.4565 9.52273 50.3812 10.5121 51.0375 11.8047C51.7037 13.0874 52.0318 14.6236 52.0219 16.4134V31H45.6682V17.5469C45.6781 16.1349 45.3202 15.0362 44.5943 14.2507C43.8784 13.4652 42.8741 13.0724 41.5815 13.0724C40.7165 13.0724 39.9508 13.2564 39.2846 13.6243C38.6284 13.9922 38.1113 14.5291 37.7335 15.2351C37.3656 15.9311 37.1767 16.7713 37.1667 17.7557ZM65.3624 31.4474C63.0058 31.4474 60.9774 30.9702 59.2771 30.0156C57.5868 29.0511 56.2842 27.6889 55.3695 25.929C54.4547 24.1591 53.9973 22.0661 53.9973 19.6499C53.9973 17.2933 54.4547 15.2251 55.3695 13.4453C56.2842 11.6655 57.5719 10.2784 59.2324 9.28409C60.9029 8.28977 62.8617 7.79261 65.1088 7.79261C66.6202 7.79261 68.0271 8.03622 69.3297 8.52344C70.6422 9.00071 71.7857 9.72159 72.7601 10.6861C73.7445 11.6506 74.5101 12.8636 75.057 14.3253C75.6039 15.777 75.8773 17.4773 75.8773 19.4261V21.1712H56.5328V17.2337H69.8965C69.8965 16.3189 69.6976 15.5085 69.2999 14.8026C68.9021 14.0966 68.3503 13.5447 67.6443 13.147C66.9483 12.7393 66.1379 12.5355 65.2132 12.5355C64.2487 12.5355 63.3936 12.7592 62.6479 13.2067C61.9121 13.6442 61.3354 14.2358 60.9178 14.9815C60.5002 15.7173 60.2864 16.5376 60.2764 17.4425V21.1861C60.2764 22.3196 60.4852 23.299 60.9029 24.1243C61.3304 24.9496 61.932 25.5859 62.7075 26.0334C63.4831 26.4808 64.4029 26.7045 65.4668 26.7045C66.1727 26.7045 66.819 26.6051 67.4057 26.4062C67.9923 26.2074 68.4945 25.9091 68.9121 25.5114C69.3297 25.1136 69.6479 24.6264 69.8666 24.0497L75.7431 24.4375C75.4448 25.8494 74.8333 27.0824 73.9085 28.1364C72.9938 29.1804 71.8105 29.9957 70.3588 30.5824C68.9171 31.1591 67.2516 31.4474 65.3624 31.4474ZM86.7077 31V0.454545H105.023V3.73579H90.4065V14.0568H103.651V17.3381H90.4065V31H86.7077ZM112.957 0.454545V31H109.258V0.454545H112.957ZM138.319 0.454545H142.018V20.679C142.018 22.767 141.525 24.6314 140.541 26.272C139.567 27.9027 138.189 29.1903 136.41 30.1349C134.63 31.0696 132.542 31.5369 130.145 31.5369C127.749 31.5369 125.661 31.0696 123.881 30.1349C122.101 29.1903 120.719 27.9027 119.735 26.272C118.76 24.6314 118.273 22.767 118.273 20.679V0.454545H121.972V20.3807C121.972 21.8722 122.3 23.1996 122.957 24.3629C123.613 25.5163 124.547 26.4261 125.76 27.0923C126.984 27.7486 128.445 28.0767 130.145 28.0767C131.846 28.0767 133.307 27.7486 134.53 27.0923C135.753 26.4261 136.688 25.5163 137.334 24.3629C137.991 23.1996 138.319 21.8722 138.319 20.3807V0.454545ZM147.304 31V0.454545H157.983C160.111 0.454545 161.866 0.822443 163.248 1.55824C164.63 2.28409 165.659 3.26349 166.335 4.49645C167.012 5.71946 167.35 7.0767 167.35 8.56818C167.35 9.88068 167.116 10.9645 166.649 11.8196C166.191 12.6747 165.585 13.3509 164.829 13.848C164.083 14.3452 163.273 14.7131 162.398 14.9517V15.25C163.333 15.3097 164.272 15.6378 165.217 16.2344C166.161 16.831 166.952 17.6861 167.588 18.7997C168.225 19.9134 168.543 21.2756 168.543 22.8864C168.543 24.4176 168.195 25.7947 167.499 27.0178C166.803 28.2408 165.704 29.2102 164.203 29.9261C162.701 30.642 160.747 31 158.341 31H147.304ZM151.003 27.7188H158.341C160.757 27.7188 162.472 27.2514 163.487 26.3168C164.511 25.3722 165.023 24.2287 165.023 22.8864C165.023 21.8523 164.759 20.8977 164.232 20.0227C163.705 19.1378 162.955 18.4318 161.98 17.9048C161.006 17.3679 159.852 17.0994 158.52 17.0994H151.003V27.7188ZM151.003 13.8778H157.864C158.977 13.8778 159.982 13.6591 160.877 13.2216C161.781 12.7841 162.497 12.1676 163.024 11.3722C163.561 10.5767 163.83 9.64204 163.83 8.56818C163.83 7.22585 163.362 6.08736 162.428 5.1527C161.493 4.2081 160.012 3.73579 157.983 3.73579H151.003V13.8778ZM173.773 31H169.896L181.111 0.454545H184.93L196.146 31H192.268L183.14 5.28693H182.901L173.773 31ZM175.205 19.0682H190.836V22.3494H175.205V19.0682Z"
						fill="#4EACD4"
					/>
				</svg>
				<svg
					class="block h-4 xs:hidden"
					viewBox="0 0 76 32"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M28.2595 11.1484H21.7269C21.6075 10.3033 21.3639 9.55256 20.996 8.89631C20.6281 8.23011 20.1558 7.66335 19.5791 7.19602C19.0024 6.72869 18.3362 6.37074 17.5806 6.12216C16.8348 5.87358 16.0244 5.74929 15.1494 5.74929C13.5685 5.74929 12.1914 6.14205 11.0181 6.92756C9.84476 7.70312 8.93496 8.83665 8.28865 10.3281C7.64235 11.8097 7.31919 13.6094 7.31919 15.7273C7.31919 17.9048 7.64235 19.7344 8.28865 21.2159C8.9449 22.6974 9.85968 23.8161 11.033 24.5717C12.2063 25.3274 13.5635 25.7053 15.1047 25.7053C15.9698 25.7053 16.7702 25.5909 17.506 25.3622C18.2517 25.1335 18.9129 24.8004 19.4896 24.3629C20.0664 23.9155 20.5436 23.3736 20.9215 22.7372C21.3093 22.1009 21.5777 21.375 21.7269 20.5597L28.2595 20.5895C28.0905 21.9915 27.6679 23.3438 26.9918 24.6463C26.3256 25.9389 25.4257 27.0973 24.2922 28.1214C23.1686 29.1357 21.8263 29.9411 20.2652 30.5376C18.7141 31.1243 16.9591 31.4176 15.0003 31.4176C12.2759 31.4176 9.83979 30.8011 7.69206 29.5682C5.55428 28.3352 3.86394 26.5504 2.62104 24.2138C1.38808 21.8771 0.771607 19.0483 0.771607 15.7273C0.771607 12.3963 1.39803 9.5625 2.65087 7.22585C3.90371 4.8892 5.60399 3.10937 7.75172 1.88636C9.89945 0.653408 12.3156 0.0369307 15.0003 0.0369307C16.7702 0.0369307 18.4108 0.28551 19.9222 0.78267C21.4435 1.27983 22.7908 2.00568 23.9641 2.96023C25.1374 3.90483 26.0919 5.06321 26.8277 6.43537C27.5735 7.80753 28.0507 9.37855 28.2595 11.1484ZM37.0249 17.7557V31H30.6713V0.454545H36.846V12.1328H37.1144C37.6315 10.7805 38.4667 9.72159 39.6201 8.95596C40.7735 8.1804 42.2203 7.79261 43.9603 7.79261C45.5512 7.79261 46.9383 8.14062 48.1215 8.83665C49.3147 9.52273 50.2394 10.5121 50.8957 11.8047C51.5619 13.0874 51.89 14.6236 51.8801 16.4134V31H45.5264V17.5469C45.5363 16.1349 45.1784 15.0362 44.4525 14.2507C43.7366 13.4652 42.7323 13.0724 41.4397 13.0724C40.5747 13.0724 39.809 13.2564 39.1428 13.6243C38.4866 13.9922 37.9695 14.5291 37.5917 15.2351C37.2238 15.9311 37.0349 16.7713 37.0249 17.7557ZM65.2206 31.4474C62.864 31.4474 60.8356 30.9702 59.1353 30.0156C57.445 29.0511 56.1424 27.6889 55.2277 25.929C54.3129 24.1591 53.8555 22.0661 53.8555 19.6499C53.8555 17.2933 54.3129 15.2251 55.2277 13.4453C56.1424 11.6655 57.4301 10.2784 59.0906 9.28409C60.7611 8.28977 62.7199 7.79261 64.967 7.79261C66.4784 7.79261 67.8853 8.03622 69.1879 8.52344C70.5004 9.00071 71.6439 9.72159 72.6183 10.6861C73.6027 11.6506 74.3683 12.8636 74.9152 14.3253C75.4621 15.777 75.7355 17.4773 75.7355 19.4261V21.1712H56.391V17.2337H69.7547C69.7547 16.3189 69.5558 15.5085 69.1581 14.8026C68.7603 14.0966 68.2085 13.5447 67.5025 13.147C66.8065 12.7393 65.9961 12.5355 65.0714 12.5355C64.1069 12.5355 63.2518 12.7592 62.5061 13.2067C61.7703 13.6442 61.1936 14.2358 60.776 14.9815C60.3584 15.7173 60.1446 16.5376 60.1346 17.4425V21.1861C60.1346 22.3196 60.3434 23.299 60.7611 24.1243C61.1886 24.9496 61.7902 25.5859 62.5657 26.0334C63.3413 26.4808 64.2611 26.7045 65.325 26.7045C66.0309 26.7045 66.6772 26.6051 67.2639 26.4062C67.8505 26.2074 68.3527 25.9091 68.7703 25.5114C69.1879 25.1136 69.5061 24.6264 69.7248 24.0497L75.6013 24.4375C75.303 25.8494 74.6915 27.0824 73.7667 28.1364C72.852 29.1804 71.6687 29.9957 70.217 30.5824C68.7753 31.1591 67.1098 31.4474 65.2206 31.4474Z"
						fill="#4EACD4"
					/>
				</svg>
			</Link>
		</div>

		<nav>
			<ul>
				<li class="flex items-center">
					<BuscadorMaterias label="Materias" materias={data.materias} variant="outline" />
				</li>
			</ul>
		</nav>

		<ThemePicker class="h-10 w-10 shrink-0" />

		<Link
			href="https://github.com/regexPattern/che-fiuba"
			class="flex h-10 w-10 shrink-0 items-center justify-center"
			aria-label="Repositorio del proyecto"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				x="0px"
				y="0px"
				viewBox="0 0 24 24"
				class="h-[26px] w-[26px] fill-black dark:fill-white"
			>
				<path
					d="M10.9,2.1c-4.6,0.5-8.3,4.2-8.8,8.7c-0.5,4.7,2.2,8.9,6.3,10.5C8.7,21.4,9,21.2,9,20.8v-1.6c0,0-0.4,0.1-0.9,0.1 c-1.4,0-2-1.2-2.1-1.9c-0.1-0.4-0.3-0.7-0.6-1C5.1,16.3,5,16.3,5,16.2C5,16,5.3,16,5.4,16c0.6,0,1.1,0.7,1.3,1c0.5,0.8,1.1,1,1.4,1 c0.4,0,0.7-0.1,0.9-0.2c0.1-0.7,0.4-1.4,1-1.8c-2.3-0.5-4-1.8-4-4c0-1.1,0.5-2.2,1.2-3C7.1,8.8,7,8.3,7,7.6C7,7.2,7,6.6,7.3,6 c0,0,1.4,0,2.8,1.3C10.6,7.1,11.3,7,12,7s1.4,0.1,2,0.3C15.3,6,16.8,6,16.8,6C17,6.6,17,7.2,17,7.6c0,0.8-0.1,1.2-0.2,1.4 c0.7,0.8,1.2,1.8,1.2,3c0,2.2-1.7,3.5-4,4c0.6,0.5,1,1.4,1,2.3v2.6c0,0.3,0.3,0.6,0.7,0.5c3.7-1.5,6.3-5.1,6.3-9.3 C22,6.1,16.9,1.4,10.9,2.1z"
				/>
			</svg>
		</Link>
	</div>
</header>

<slot />
